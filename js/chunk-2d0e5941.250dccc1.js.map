{"version":3,"sources":["webpack:///./src/views/dashboard/AddItem.vue?a0b2","webpack:///src/views/dashboard/AddItem.vue","webpack:///./src/views/dashboard/AddItem.vue?2721","webpack:///./src/views/dashboard/AddItem.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","model","value","callback","$$v","name","expression","menu","_l","key","id","_s","subname","sub","on","addImgFile","imageUrl","_e","price","addItem","staticRenderFns","data","computed","selectSub","submenus","filter","methods","files","e","target","dataTransfer","length","createImage","reader","FileReader","vm","onload","images","result","readAsDataURL","file","image","component"],"mappings":"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","file":"js/chunk-2d0e5941.250dccc1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"w-50 p-5\"},[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"Item name\")]),_c('b-form-input',{staticClass:\"mb-2\",attrs:{\"placeholder\":\"Enter your name\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"Item menu\")]),_c('b-form-select',{staticClass:\"mb-3\",model:{value:(_vm.menu),callback:function ($$v) {_vm.menu=$$v},expression:\"menu\"}},_vm._l((_vm.menus),function(menu){return _c('b-form-select-option',{key:menu.id,attrs:{\"value\":menu}},[_vm._v(_vm._s(menu.name))])}),1),_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"Item submenu\")]),_c('b-form-select',{staticClass:\"mb-3\",model:{value:(_vm.subname),callback:function ($$v) {_vm.subname=$$v},expression:\"subname\"}},_vm._l((_vm.selectSub),function(sub){return _c('b-form-select-option',{key:sub.id,attrs:{\"value\":sub.name}},[_vm._v(_vm._s(sub.name))])}),1),_c('label',[_vm._v(\"item photo\")]),_c('input',{staticClass:\"d-block mb-2\",attrs:{\"type\":\"file\"},on:{\"change\":_vm.addImgFile}}),(_vm.imageUrl !== '')?_c('img',{staticClass:\"w-25\",attrs:{\"src\":_vm.imageUrl}}):_vm._e(),_c('label',{staticClass:\"d-block mt-3\",attrs:{\"for\":\"\"}},[_vm._v(\"Item price\")]),_c('b-form-input',{attrs:{\"placeholder\":\"Enter your name\"},model:{value:(_vm.price),callback:function ($$v) {_vm.price=$$v},expression:\"price\"}}),_c('button',{staticClass:\"btn btn-info d-block mx-auto mt-3\",on:{\"click\":_vm.addItem}},[_vm._v(\" Submit \")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"w-50 p-5\">\n      <label for=\"\">Item name</label>\n      <b-form-input\n        v-model=\"name\"\n        class=\"mb-2\"\n        placeholder=\"Enter your name\"\n      ></b-form-input>\n      <label for=\"\">Item menu</label>\n      <b-form-select class=\"mb-3\" v-model=\"menu\">\n        <b-form-select-option\n          v-for=\"menu in menus\"\n          :key=\"menu.id\"\n          :value=\"menu\"\n          >{{ menu.name }}</b-form-select-option\n        >\n      </b-form-select>\n\n      <label for=\"\">Item submenu</label>\n      <b-form-select class=\"mb-3\" v-model=\"subname\">\n        <b-form-select-option\n          v-for=\"sub in selectSub\"\n          :key=\"sub.id\"\n          :value=\"sub.name\"\n          >{{ sub.name }}</b-form-select-option\n        >\n      </b-form-select>\n      <label>item photo</label>\n      <input class=\"d-block mb-2\" @change=\"addImgFile\" type=\"file\" />\n\n      <img v-if=\"imageUrl !== ''\" :src=\"imageUrl\" class=\"w-25\" />\n\n      <label class=\"d-block mt-3\" for=\"\">Item price</label>\n      <b-form-input\n        v-model=\"price\"\n        placeholder=\"Enter your name\"\n      ></b-form-input>\n      <button class=\"btn btn-info d-block mx-auto mt-3\" @click=\"addItem\">\n        Submit\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport { db } from \"../../store/fireInit\";\nexport default {\n  data: () => ({\n    name: \"\",\n    menu: \"\",\n    subname: \"\",\n    images: \"\",\n    price: \"\",\n    imageUrl: \"\",\n    image:''\n  }),\n  computed: {\n    ...mapGetters([\"menus\", \"submenus\"]),\n    selectSub() {\n      return this.submenus.filter((e) => e.menuid == this.menu.id);\n    },\n  },\n  methods: {\n    addImgFile(e) {\n      var files = e.target.files || e.dataTransfer.files;\n      if (!files.length) return;\n      this.createImage(files[0]);\n    },\n    createImage(file) {\n      var reader = new FileReader();\n      var vm = this;\n      reader.onload = (e) => {\n        vm.images = e.target.result;\n        this.imageUrl = vm.images;\n      };\n      reader.readAsDataURL(file);\n      this.image = file;\n    },\n    async addItem() {\n      var key;\n      console.log('start');\n      await db\n        .firestore()\n        .collection(\"items\")\n        .add({\n          name: this.name,\n          menu: this.menu.name,\n          sub: this.subname,\n          price: this.price,\n        })\n        .then((res) => {\n          console.log(res.id);\n          key = res.id;\n          return key;\n        })\n        .then((key) => {\n          console.log('storeage');\n          return db.storage()\n            .ref(key)\n            .put(this.image);\n        })\n        .then((fileData) => {\n          console.log('filedata');\n          fileData.ref.getDownloadURL().then((url) => {\n            console.log('url here');\n            console.log(url);\n            db.firestore()\n              .collection(\"items\")\n              .doc(key)\n              .update({ imgUrl: url });\n          });\n        })\n        .then(()=>{\n          this.name=''\n          this.menu=''\n          this.subname=''\n          this.images=''\n          this.imageUrl=''\n          this.price=''\n        })\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddItem.vue?vue&type=template&id=5695b683&\"\nimport script from \"./AddItem.vue?vue&type=script&lang=js&\"\nexport * from \"./AddItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}